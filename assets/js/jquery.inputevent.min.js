/*!
 * jQuery `input` Special Event
 * Original (ERROR 404): http://whattheheadsaid.com/projects/input-special-event
 * © 2010-2011 Andy Earnshaw
 * 
 * Fork v1.3 © 2013 Gabriel Nahmias (https://github.com/gabrielnahmias/jquery-inputevent)
 * MIT license: http://www.opensource.org/licenses/mit-license.php
 */
(function(g,c){var i=".inputEvent ",d="bound.inputEvent",j="value.inputEvent",e="delegated.inputEvent",k=["input","textInput","propertychange","paste","cut","keydown","keyup","drop",""].join(i),h=["focusin","mouseover","dragstart",""].join(i)+k,a={TEXTAREA:c,INPUT:c},f={paste:c,cut:c,keydown:c,drop:c,textInput:c};function b(l){return g(l).prop("contenteditable")=="true"||l.tagName in a}g.event.special.txtinput={setup:function(r,m,t,s){var l,o,q=this,n=g(this),p=false;if(b(q)){o=g.data(q,d)||0;if(!o){n.bind(k,t)}g.data(q,d,++o);g.data(q,j,q.value)}else{n.bind(h,function(v){var u=v.target;if(b(u)&&!g.data(q,e)){o=g.data(u,d)||0;if(!o){g(u).bind(k,t);t.apply(this,arguments)}g.data(q,e,true);g.data(u,d,++o);g.data(u,j,u.value)}})}function t(v){var u=v.target;window.clearTimeout(l),l=null;if(p){return}if(v.type in f&&!l){l=window.setTimeout(function(){if(u.value!==g.data(u,j)){g(u).trigger("txtinput");g.data(u,j,u.value)}},0)}else{if(v.type=="propertychange"){if(v.originalEvent.propertyName=="value"){g(u).trigger("txtinput");g.data(u,j,u.value);p=true;window.setTimeout(function(){p=false},0)}}else{var w=s!==undefined?s:g.fn.input.settings.onChangeOnly;if(g.data(u,j)==u.value&&w){return}g(u).trigger("txtinput");g.data(u,j,u.value);p=true;window.setTimeout(function(){p=false},0)}}}},teardown:function(){var l=g(this);l.unbind(h);l.find("input, textarea").andSelf().each(function(){bndCount=g.data(this,d,(g.data(this,d)||1)-1);if(!bndCount){l.unbind(k)}})}};g.fn.input=function(l){return l?g(this).bind("txtinput",l):this.trigger("txtinput")};g.fn.input.settings={onChangeOnly:false}})(jQuery);